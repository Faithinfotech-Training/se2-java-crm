<div class="modal-body">

    <form #form="ngForm" (submit)="onSubmit(form)">

        <input type="hidden" class="form-control" id="enquiryDate"
         name="enquiryDate"
         #enquiryDate="ngModel" [(ngModel)]="service.form.enquiryDate">
        <!-- Course Enquiry Customer Name -->
        <!-- Customer ngModelGroup -->
        <fieldset ngModelGroup="customerId"> 
        <div class="form-group row" >
            <label class="col-sm-4 col-form-label">Customer Name</label>
            <div class="col-sm-8">
                <input type="text" class="form-control" id="customerName" name="customerName" 
                #customerName="ngModel" [(ngModel)]="service.form.customerId.customerName"
                class="form-control" required minlength="4">
                <!-- Validation -->
                <div *ngIf="customerName.invalid && (customerName.dirty || customerName.touched)"
                    class="alert alert-danger mt-1">
                    <div *ngIf="customerName.errors.required">
                        Name is required.
                    </div>
                    <div *ngIf="customerName.errors.minlength">
                        Name must be at least 4 characters long.
                    </div>
                </div>
            </div>
        </div>

        <!-- Customer Email -->
        <div class="form-group row">
            <label class="col-sm-4 col-form-label">Customer Email Id</label>
            <div class="col-sm-8">
                <input type="text" class="form-control" name="customerEmailId" id="customerEmailId"
                 pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"  #customerEmailId="ngModel" [(ngModel)]="service.form.customerId.customerEmailId"
                required minlength="8" maxlength="20">

                <!-- Validation -->
                <div *ngIf="customerEmailId.invalid && (customerEmailId.dirty || customerEmailId.touched)"
                    class="alert alert-danger mt-1">
                    <div *ngIf="customerEmailId.errors.pattern">
                        Customer Email Id should be valid
                    </div>
                    
                    <div *ngIf="customerEmailId.errors.required">
                        Customer Email Id is required.
                    </div>
                    <div *ngIf="customerEmailId.errors.minlength">
                        Customer Email Id must be at least 10 characters long and atmost 20 characters long.
                    </div>
                </div>
            </div>
        </div>

        <!-- Customer Phone Number-->
        <div class="form-group row">
            <label class="col-sm-4 col-form-label"> Phone Number</label>
            <div class="col-sm-8">
                <input  type="number" class="form-control"
                 id="customerPhoneNumber" name="customerPhoneNumber" required pattern="[0-9]{10}" #customerPhoneNumber="ngModel" 
                  [(ngModel)]="service.form.customerId.customerPhoneNumber" oninput="this.value = Math.abs(this.value)" >
                <!-- Validation -->
                <div *ngIf="customerPhoneNumber.touched && customerPhoneNumber.invalid" class="alert alert-danger">
                    <div *ngIf="customerPhoneNumber.errors.required">Mobile Number is required.</div>
                    <div *ngIf="customerPhoneNumber.errors.pattern">Please, Enter 10 digit Mobile Number.</div>
                </div>    
            </div>
        </div>
        <!-- Customer Qualification -->
        <div class="form-group row">
            <label class="col-sm-4 col-form-label">Customer Qualification</label>
            <div class="col-sm-8">
                <input type="text" class="form-control" name="customerQualification" id="customerQualification"
                    #customerQualification="ngModel" [(ngModel)]="service.form.customerId.customerQualification" required
                    minlength="2" maxlength="20">

                <!-- Validation -->
                <div *ngIf="customerQualification.invalid && (customerQualification.dirty || customerQualification.touched)"
                    class="alert alert-danger mt-1">
                    <div *ngIf="customerQualification.errors.required">
                        Customer Qualification is required.
                    </div>
                    <div *ngIf="customerQualification.errors.minlength">
                        Customer Qualification must be at least 10 characters long and atmost 20 characters long.
                    </div>
                </div>
            </div>
        </div>
        <!-- Lead Source -->
        <div class="form-group row">
            <label class="col-sm-4 col-form-label">Lead Source</label>
            <div class="col-sm-8">
                <input type="text" class="form-control" name="leadSource" id="leadSource"
                    #leadSource="ngModel" [(ngModel)]="service.form.customerId.leadSource" required
                    minlength="3">

                <!-- Validation -->
                <div *ngIf="leadSource.invalid && (leadSource.dirty || leadSource.touched)"
                    class="alert alert-danger mt-1">
                    <div *ngIf="leadSource.errors.required">
                        Lead Source is required.
                    </div>
                    <div *ngIf="leadSource.errors.minlength">
                        Lead Source must be at least 10 characters long.
                    </div>
                </div>
            </div>
        </div>


        <!-- Customer Percentage-->
        <div class="form-group row">
            <label class="col-sm-4 col-form-label"> Customer Percentage</label>
            <div class="col-sm-8">
                <input min="1" max="101" oninput="this.value = Math.abs(this.value)" type="number" class="form-control"
                pattern="[0-9]{1,3}" id="customerPercentage" name="customerPercentage" required #customerPercentage="ngModel" 
                [(ngModel)]="service.form.customerId.customerPercentage" >
                <!-- Validation -->

                <div *ngIf="customerPercentage.invalid && (customerPercentage.dirty || customerPercentage.touched)" class="alert alert-danger mt-1">

                    <div *ngIf="customerPercentage.errors.required">
                        Customer Percentage in numerical format is required.
                    </div>
                    <div *ngIf="customerPercentage.errors.pattern">
                        Customer Percentage must be greater than 0 and less than or equal to 100.
                    </div>
                </div>
            </div>
        </div>

        <!-- Customer DOB-->
        <div class="form-group row">
            <label class="col-sm-4 col-form-label">Date of Birth</label>
            <div class="col-sm-8">
                <input type="date" class="form-control" name="customerDOB" id="customerDOB"
                 #customerDOB="ngModel" required [(ngModel)]="service.form.customerId.customerDOB">
                 <div *ngIf="customerDOB.invalid && (customerDOB.dirty || customerDOB.touched)" class="alert alert-danger mt-1">

                    <div *ngIf="customerDOB.errors.required">
                        Date of Birth in date format is required.
                    </div>
                    <div *ngIf="customerDOB.errors.pattern">
                        Date of Birth errors in pattern
                    </div>
                </div>


            </div>
        </div>

        </fieldset>
        <!-- Course -->
        <div class="form-group row">
            <label class="col-sm-4 col-form-label">Course</label>
            <div class="col-sm-8">
                <select type="text" name="courseId" class="form-control" id="courseId" #courseId="ngModel"
                    [(ngModel)]="service.form.courseId" required>
                    <ng-container *ngFor="let course of courseList">
                        <option  [ngValue]="course" *ngIf="service.form.courseId==course.courseId" selected disabled>
                            {{course.courseName}}
                        </option>
                        <option  [ngValue]="course" *ngIf="course.courseId!=service.form.courseId.courseId">
                            {{course.courseName}}
                        </option>
                    </ng-container>
                </select>
                <div *ngIf="courseId.invalid && (courseId.dirty || courseId.touched)" class="alert alert-danger mt-1">
                    <div *ngIf="courseId.errors.required">
                        Course is required.
                    </div>
                </div>

            </div>
        </div>
        <!-- Course Enquiry Status -->
        <div class="form-group row" *ngIf="service.form.registrationId!=null">
            <label class="col-sm-4 col-form-label">Course Enquiry Status</label>
            <div class="col-sm-8">
                <select type="text"  name="enquiryStatus" class="form-control" id="enquiryStatus"
                     #enquiryStatus="ngModel" [(ngModel)]="service.form.enquiryStatus" required>
                     <ng-container *ngFor="let enquiryStatus of enquiryStatusList">
                        <option selected  [ngValue]="enquiryStatus" *ngIf="service.form.enquiryStatus.statusId==enquiryStatus.statusId" disabled>
                            {{enquiryStatus.statusValue}}
                        </option>
                        <option  [ngValue]="enquiryStatus" *ngIf="service.form.enquiryStatus.statusId!=enquiryStatus.statusId">
                            {{enquiryStatus.statusValue}}
                        </option>
                        
                    </ng-container>
                </select>
            </div>
        </div>
        <div class="form-group row">
            <button class="btn btn-block btn-success mt-5" type="submit" [disabled]="form.invalid">Submit</button>
        </div>
    </form>
</div>